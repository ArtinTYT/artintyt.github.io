---
title: 5.é…ç½®è‡ªå®šä¹‰åŸŸå
date: 2025-01-17 13:59:0
comment: 'valine'
tags:
  - Hexo
  - GitHub
  - SSH
  - domain
categories:
  - Hexo
---


åœ¨æœ¬ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ **GitHub Actions** æ¥å®ç° **Hexo åšå®¢çš„è‡ªåŠ¨åŒ–éƒ¨ç½²**ï¼Œå¹¶ä¸”é…ç½® **è‡ªå®šä¹‰åŸŸå**ï¼Œç¡®ä¿ GitHub Pages éƒ¨ç½²åä¸ä¼šä¸¢å¤±åŸŸåè®¾ç½®ã€‚

---

## **1. é…ç½® GitHub Actions**

### **1.1 ä¿®æ”¹ `.github/workflows/deploy.yml` æ–‡ä»¶**

åœ¨ `deploy.yml` æ–‡ä»¶ä¸­æ·»åŠ `hexo deploy --cname <name>`åˆ°ä¸‹é¢ä½ç½®ï¼š
```yaml
jobs:
  deploy:
    steps:
      - name: Deploy to GitHub Pages  # éƒ¨ç½²åˆ° GitHub Pages
        run: |
          mkdir -p ~/.ssh/
          echo "$SSH_PRIVATE_KEY" | tr -d '\r' > ~/.ssh/id_rsa
          chmod 600 ~/.ssh/id_rsa
          ssh-keyscan github.com >> ~/.ssh/known_hosts
          git config --global user.name "$GIT_NAME"
          git config --global user.email "$GIT_EMAIL"
          hexo deploy --cname neurowave.tech  # åœ¨è¿™é‡ŒæŒ‡å®šåŸŸå
```


## **2. é…ç½®è‡ªå®šä¹‰åŸŸå**

### **2.1 åœ¨é˜¿é‡Œäº‘é…ç½®åŸŸåè§£æ**
å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ **é˜¿é‡Œäº‘** è´­ä¹°çš„åŸŸåï¼Œéœ€è¦åœ¨ **é˜¿é‡Œäº‘ DNS æ§åˆ¶å°** æ·»åŠ è§£æè®°å½•ã€‚

1. è¿›å…¥ **é˜¿é‡Œäº‘æ§åˆ¶å°** â†’ **å…¬ç½‘ DNS è§£æ** â†’ **æƒå¨åŸŸåè§£æ**ã€‚
2. é€‰æ‹©ä½ çš„åŸŸåï¼Œç‚¹å‡» **æ·»åŠ è®°å½•** æˆ– **æ–°æ‰‹å¼•å¯¼**ã€‚
3. é€‰æ‹© **è®°å½•ç±»å‹** ä¸º `CNAME`ã€‚
4. åœ¨ **ä¸»æœºè®°å½•** é€‰æ‹©ï¼š
   - `www`ï¼ˆç”¨äº `www.yourdomain.com`ï¼‰
   - `@`ï¼ˆç”¨äº `yourdomain.com`ï¼‰ã€‚
5. åœ¨ **è®°å½•å€¼** ä¸­å¡«å†™ä½ çš„ GitHub Pages åœ°å€ï¼Œä¾‹å¦‚ï¼š
   ```
   artintyt.github.io
   ```
6. ç‚¹å‡» **ä¿å­˜**ã€‚


### **2.2 ç”Ÿæˆ `CNAME` æ–‡ä»¶**
å¦‚æœä½ çš„åšå®¢ä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ `neurowave.tech`ï¼‰ï¼Œä½ éœ€è¦åœ¨ `source/` ç›®å½•ä¸‹åˆ›å»º `CNAME` æ–‡ä»¶ï¼š

```bash
echo "neurowave.tech" > source/CNAME
```

ç„¶åæäº¤åˆ° `master` branchï¼š
```bash
git add source/CNAME
git commit -m "Add CNAME file"
git push origin master
```
ä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªå« `CNAME` æ–‡ä»¶åˆ° `source/`ã€‚


### **2.3 ç¡®ä¿ `CNAME` åœ¨ Hexo éƒ¨ç½²æ—¶ä¸ä¼šä¸¢å¤±**
åœ¨ Hexo çš„ `_config.yml` æ–‡ä»¶ä¸­ï¼Œç¡®ä¿ `deploy` éƒ¨åˆ†åŒ…å« `cname` å’Œä½ çš„è‡ªå®šä¹‰åŸŸåï¼š

```yaml
deploy:
  type: git
  repo: 
  branch: gh-pages  # ä½ çš„ GitHub Pages åˆ†æ”¯
  message: "Deploy blog updates"
  cname: neurowave.tech  # è‡ªå®šä¹‰åŸŸå
```

### **2.4 åœ¨ GitHub Pages å¯ç”¨è‡ªå®šä¹‰åŸŸå**

1. **è¿›å…¥ GitHub ä»“åº“** â†’ **Settings** â†’ **Pages**ã€‚
2. åœ¨ **Custom domain** è¾“å…¥ `neurowave.tech`ã€‚
3. **å‹¾é€‰ "Enforce HTTPS"**ï¼Œç¡®ä¿ HTTPS æ­£å¸¸å·¥ä½œã€‚
4. ç­‰å¾… GitHub è§£æä½ çš„åŸŸåï¼Œé€šå¸¸éœ€è¦å‡ åˆ†é’Ÿã€‚


## **3. æäº¤å¹¶è§¦å‘ GitHub Actions**

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°† `deploy.yml` é…ç½®æ–‡ä»¶æäº¤åˆ° GitHubï¼š

```bash
git add .github/workflows/deploy.yml
git commit -m "Add GitHub Actions for Hexo deployment"
git push origin master  # å¦‚æœä½ çš„è¿œç¨‹åˆ†æ”¯æ˜¯ master
```

æ¨é€ä»£ç åï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ‰§è¡Œéƒ¨ç½²ã€‚


## **4. æ£€æŸ¥ GitHub Actions æ˜¯å¦æˆåŠŸ**

### **4.1 æŸ¥çœ‹ Actions è¿è¡ŒçŠ¶æ€**
1. æ‰“å¼€ GitHub ä»“åº“ã€‚
2. ç‚¹å‡» **Actions** é€‰é¡¹å¡ã€‚
3. æŸ¥çœ‹æœ€æ–°çš„ Workflow è¿è¡Œè®°å½•ã€‚
4. å¦‚æœæ˜¾ç¤ºç»¿è‰² âœ…ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼›å¦‚æœå¤±è´¥ï¼Œåˆ™æŸ¥çœ‹æ—¥å¿—åˆ†æé—®é¢˜ã€‚

### **4.2 è®¿é—®ä½ çš„åšå®¢**
GitHub Pages æ›´æ–°å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œç¨ç­‰åè®¿é—®ï¼š
```
https://neurowave.tech
```
å¦‚æœçœ‹åˆ°æœ€æ–°å†…å®¹ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼ğŸ‰


## **5. æœ¬åœ°æ›´æ–°åšå®¢å¹¶æ¨é€**

å½“ä½ æœ¬åœ°ä¿®æ”¹åšå®¢å†…å®¹åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æäº¤å¹¶è§¦å‘ GitHub Actionsï¼š

```bash
git add .
git commit -m "Update blog content"
git push origin master 
```

ç„¶åç­‰å¾… GitHub Actions è‡ªåŠ¨æ›´æ–°ä½ çš„åšå®¢ã€‚
```bash
hexo clean && hexo generate && hexo deploy
```

## **6. æ€»ç»“**

- **é…ç½® GitHub Actions**ï¼Œè®©åšå®¢è‡ªåŠ¨éƒ¨ç½²ã€‚
- **åˆ›å»º `CNAME` æ–‡ä»¶ï¼Œå¹¶ç¡®ä¿ Hexo éƒ¨ç½²æ—¶ä¸ä¼šä¸¢å¤±è‡ªå®šä¹‰åŸŸå**ã€‚
- **æ¯æ¬¡ `git push`ï¼ŒGitHub Actions è‡ªåŠ¨è§¦å‘éƒ¨ç½²**ã€‚
- **GitHub Pages è‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€æ‰‹åŠ¨è¿è¡Œ `hexo deploy`**ã€‚

è¿™æ ·ï¼Œä½ çš„ Hexo åšå®¢å°±å®ç°äº† **å…¨è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¹¶ä¸”ä¿ç•™è‡ªå®šä¹‰åŸŸå** ğŸ‰ï¼





